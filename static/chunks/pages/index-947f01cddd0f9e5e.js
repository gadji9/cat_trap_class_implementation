(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(l,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(4655)}])},4655:function(l,e,t){"use strict";t.r(e),t.d(e,{default:function(){return r}});var s=t(5893),h=t(7294);class i{move(){let[l,e]=this.getDirection(),t=this.getNearestCells(),s=t.filter(l=>(null==l?void 0:l.color)==="green");(this.checkForLoose(l,e)||this.checkForWin(s))&&window.location.reload();let h=this.field.getCell(this.cell.x+l,this.cell.y+e);for(;(null==h?void 0:h.color)==="black";)h=s[Math.round(Math.random()*(s.length-1))];h&&(this.cell.cat=null,this.cell=h,h.cat=this)}getDirection(){let l,e;let t=Math.abs(this.cell.y-this.field.height),s=Math.abs(this.cell.x-this.field.widht);l=s<t?"x":"y";let{half1:h,half2:i}=this.countBlocks(this.field.cells,l);if("x"==(l=s<t?"x":"y")){if(h.count>i.count){let c=this.countBlocks(h.cells,"y");e=c.half1.count>c.half2.count?c.half1:c.half2}else{let o=this.countBlocks(i.cells,"y");e=o.half1.count>o.half2.count?o.half1:o.half2}}else if(h.count>i.count){let n=this.countBlocks(h.cells,"x");e=n.half1.count>n.half2.count?n.half1:n.half2}else{let a=this.countBlocks(i.cells,"x");e=a.half1.count>a.half2.count?a.half1:a.half2}let r=e.cells[Math.floor(e.cells.length/2)][Math.floor(e.cells[Math.floor(e.cells.length/2)].length/2)],u={x:r.x-this.cell.x,y:r.y-this.cell.y},f=-1*(u.x/Math.abs(u.x)||0),d=-1*(u.y/Math.abs(u.y)||0);return[f=this.cell.y%2==0?f<0?f+1:f:f>0?f-1:f,d]}countBlocks(l,e){let t=[],s=[];l.forEach(l=>{let h=[],i=[];l.forEach(l=>{l[e]>this.cell[e]?h.push(l):i.push(l)}),h.length&&t.push(h),i.length&&s.push(i)});let h=t.reduce((l,e)=>l+e.reduce((l,e)=>l+("black"===e.color?1:0),0),0),i=s.reduce((l,e)=>l+e.reduce((l,e)=>l+("black"===e.color?1:0),0),0);return{half1:{cells:t,count:h},half2:{cells:s,count:i}}}getNearestCells(){let l=[];return this.cell.y%2==0?(l.push(this.field.getCell(this.cell.x+1,this.cell.y)),l.push(this.field.getCell(this.cell.x-1,this.cell.y)),l.push(this.field.getCell(this.cell.x+1,this.cell.y+1)),l.push(this.field.getCell(this.cell.x+1,this.cell.y-1)),l.push(this.field.getCell(this.cell.x,this.cell.y+1)),l.push(this.field.getCell(this.cell.x,this.cell.y-1))):(l.push(this.field.getCell(this.cell.x+1,this.cell.y)),l.push(this.field.getCell(this.cell.x-1,this.cell.y)),l.push(this.field.getCell(this.cell.x,this.cell.y+1)),l.push(this.field.getCell(this.cell.x,this.cell.y-1)),l.push(this.field.getCell(this.cell.x-1,this.cell.y-1)),l.push(this.field.getCell(this.cell.x-1,this.cell.y+1))),l}checkForLoose(l,e){if(this.cell.x+l>this.field.widht-1||this.cell.x+l<0||this.cell.y+e>this.field.height-1||this.cell.y+e<0)return alert("looser"),!0}checkForWin(l){if(l.length<=0)return alert("winer"),!0}constructor(l){this.field=l,this.cell=this.field.getCell(Math.round(this.field.widht/2),Math.round(this.field.height/2-1)),this.cell.cat=this}}class c{constructor(l,e,t){this.cat=null,this.color=l,this.x=e,this.y=t}}class o{init(){this.cells=[],this.cat=null;let l=[],e=[];for(let t=0;t<Math.round(this.defaultBlocksCount);t++)l.push(Math.floor(Math.random()*this.widht));for(let s=0;s<Math.round(this.defaultBlocksCount);s++)e.push(Math.floor(Math.random()*this.height));for(let h=0;h<this.height;h++){let o=[];for(let n=0;n<this.widht;n++)o.push(new c("green",n,h));this.cells.push(o)}for(let a=0;a<this.defaultBlocksCount;){let r=this.getCell(l[a],e[a]);r&&!r.cat&&(r.color="black",a++)}this.cat=new i(this)}getCopyField(){let l=new o;return l.cells=this.cells,l.cat=this.cat,l}getCell(l,e){return this.cells[e]?this.cells[e][l]:null}endTurn(l){var e;l.cat||"black"===l.color||(l.color="black",null===(e=this.cat)||void 0===e||e.move())}constructor(){this.cells=[],this.widht=11,this.height=11,this.defaultBlocksCount=15,this.cat=null}}let n=l=>{let{cell:e,onClick:t}=l;return(0,s.jsx)("div",{className:"ml-[5px] -mt-[20px] relative",onClick:()=>t(e),children:(0,s.jsxs)("div",{className:"flex flex-col hexa "+("green"!==e.color||e.cat?"":"hover:opacity-60"),children:[e.cat&&(0,s.jsx)("img",{className:"absolute ",src:"../images/cat.png",alt:"s",width:50,height:50}),(0,s.jsx)("div",{className:"hexagon hexagon_".concat(e.color," hexagon_zero hexagon_triangle_up hexagon_triangle_up_large")}),(0,s.jsx)("div",{className:"inside_".concat(e.color)}),(0,s.jsx)("div",{className:"hexagon hexagon_".concat(e.color," hexagon_zero hexagon_triangle_down hexagon_triangle_down_large")})]})})},a=l=>{let{field:e,setField:t}=l;function i(l){e.endTurn(l),function(){let l=e.getCopyField();t(l)}()}return(0,s.jsx)("div",{children:e.cells.map((l,e)=>(0,s.jsx)(h.Fragment,{children:(0,s.jsx)("div",{className:"flex "+(e%2==0?"ml-[28px]":""),children:l.map(l=>(0,s.jsx)("div",{children:(0,s.jsx)(n,{cell:l,onClick:i})},l.x.toString()+l.y.toString()))})},e))})};function r(){let[l,e]=(0,h.useState)(new o);return(0,h.useEffect)(()=>{(function(){let l=new o;l.init(),e(l)})()},[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"w-screen h-screen flex justify-center items-center",children:(0,s.jsx)(a,{field:l,setField:e})})})}}},function(l){l.O(0,[774,888,179],function(){return l(l.s=8312)}),_N_E=l.O()}]);